<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript">
    function checkCashRegister(price, cash, cid) {
    	price = price * 100;
    	cash = cash * 100;
    	cid[8][1] = Math.round(cid[8][1] * 100);
    	cid[7][1] = Math.round(cid[7][1] * 100);
    	cid[6][1] = Math.round(cid[6][1] * 100);
    	cid[5][1] = Math.round(cid[5][1] * 100);
    	cid[4][1] = Math.round(cid[4][1] * 100);
    	cid[3][1] = Math.round(cid[3][1] * 100);
    	cid[2][1] = Math.round(cid[2][1] * 100);
    	cid[1][1] = Math.round(cid[1][1] * 100);
    	cid[0][1] = Math.round(cid[0][1] * 100);





        var change;
        change = cash - price;
        var sum = cid[0][1] + cid[1][1] + cid[2][1] + cid[3][1] + cid[4][1] + cid[5][1] + cid[6][1] + cid[7][1] + cid[8][1];
        if (change > sum) {
        	console.log("Insufficient Funds");
        	return "Insufficient Funds";
        }
        if (change == sum) {
        	console.log("Closed");
        	return "Closed";
        }

        var arr = [
        	["ONE HUNDRED", 0],
        	["TWENTY", 0],
        	["TEN", 0],
        	["FIVE", 0],
        	["ONE", 0],
        	["QUARTER", 0],
        	["DIME", 0],
        	["NICKEL", 0],
        	["PENNY", 0]
        ];

        //判断100块多少
        while (cid[8][1] > change) {
        	cid[8][1] = cid[8][1] - 100*100;
        }
        if (cid[8][1] != 0) {
        	arr[0][1] = cid[8][1];
        }
        change = change - cid[8][1];
        if (change == 0) {
        	console.log(arr);
        	return findArr(arr);
        }
        else if (change > cid[0][1] + cid[1][1] + cid[2][1] + cid[3][1] + cid[4][1] + cid[5][1] + cid[6][1] + cid[7][1]) {
        	console.log("Insufficient Funds");
        	return "Insufficient Funds";
        }
        
        //判断20块多少
        while (cid[7][1] > change) {
        	cid[7][1] = cid[7][1] - 20*100;
        }
        if (cid[7][1] != 0) {
        	arr[1][1] = cid[7][1];
        }
        change = change - cid[7][1];
        if (change == 0) {
        	console.log(arr);
        	return findArr(arr);
        }
        else if (change > cid[0][1] + cid[1][1] + cid[2][1] + cid[3][1] + cid[4][1] + cid[5][1] + cid[6][1]) {
        	console.log("Insufficient Funds");
        	return "Insufficient Funds";
        }

        //判断10块要多少
        while (cid[6][1] > change) {
        	cid[6][1] = cid[6][1] - 10*100;
        }
        if (cid[6][1] != 0) {
        	arr[2][1] = cid[6][1];
        }
        change = change - cid[6][1];
        if (change == 0) {
        	console.log(arr);
        	return findArr(arr);
        }
        else if (change > cid[0][1] + cid[1][1] + cid[2][1] + cid[3][1] + cid[4][1] + cid[5][1]) {
        	console.log("Insufficient Funds");
        	return "Insufficient Funds";
        }

        //判断5块要多少
        while (cid[5][1] > change) {
        	cid[5][1] = cid[5][1] - 5*100;
        }
        if (cid[5][1] != 0) {
        	arr[3][1] = cid[5][1];
        }
        change = change - cid[5][1];
        if (change == 0) {
        	console.log(arr);
        	return findArr(arr);
        }
        else if (change > cid[0][1] + cid[1][1] + cid[2][1] + cid[3][1] + cid[4][1]) {
        	console.log("Insufficient Funds");
        	return "Insufficient Funds";
        }

        //判断1块要多少
        while (cid[4][1] > change) {
        	cid[4][1] = cid[4][1] - 1*100;
        }
        if (cid[4][1] != 0) {
        	arr[4][1] = cid[4][1];
        }
        change = change - cid[4][1];
        if (change == 0) {
        	console.log(arr);
        	return findArr(arr);
        }
        else if (change > cid[0][1] + cid[1][1] + cid[2][1] + cid[3][1]) {
        	console.log("Insufficient Funds");
        	return "Insufficient Funds";
        }

        //判断0.25要多少
        while (cid[3][1] > change) {
        	cid[3][1] = cid[3][1] - 25;
        }
        if (cid[3][1] != 0) {
        	arr[5][1] = cid[3][1];
        }
        change = change - cid[3][1];
        if (change == 0) {
        	//console.log(arr);
        	return findArr(arr);
        }
        else if (change > cid[0][1] + cid[1][1] + cid[2][1]) {
        	console.log("Insufficient Funds");
        	return "Insufficient Funds";
        }

        //判断0.1要多少
        while (cid[2][1] > change) {
        	cid[2][1] = cid[2][1] - 10;
        }
        if (cid[2][1] != 0) {
        	arr[6][1] = cid[2][1];
        }
        change = change - cid[2][1];
        if (change == 0) {
        	console.log(arr);
        	return findArr(arr);
        }
        else if (change > cid[0][1] + cid[1][1]) {
        	console.log("Insufficient Funds");
        	return "Insufficient Funds";
        }

        //判断0.05要多少
        while (cid[1][1] > change) {
        	cid[1][1] = cid[1][1] - 5;
        	console.log(cid[1][1]);
        }
        if (cid[1][1] != 0) {
        	arr[7][1] = cid[1][1];
        }
        change = change - cid[1][1];
        if (change == 0) {
        	console.log(arr);
        	return findArr(arr);
        }
        else if (change > cid[0][1]) {
        	console.log("Insufficient Funds");
        	return "Insufficient Funds";
        }

        //直接判定0.01要多少，总结了
        arr[8][1] = change;
        //console.log(arr);

        return findArr(arr);
    }

    function findArr(arr) {
    	var arrRes = [];
    	for (var i = 0; i < arr.length; i++) {
    		if (arr[i][1] != 0) {
    			arrRes.push([arr[i][0], arr[i][1] / 100]);
    		}
    	}
    	return arrRes;
    }



    // Example cash-in-drawer array:
    // [["PENNY", 0.01],
    // ["NICKEL", 0.05],
    // ["DIME", 0.10],
    // ["QUARTER", 0.25],
    // ["ONE", 1.00],
    // ["FIVE", 5.00],
    // ["TEN", 10.00],
    // ["TWENTY", 20.00],
    // ["ONE HUNDRED", 100.00]]
    //console.log(checkCashRegister(19.50, 20.00, [["PENNY", 1.01], ["NICKEL", 2.05], ["DIME", 3.10], ["QUARTER", 4.25], ["ONE", 90.00], ["FIVE", 55.00], ["TEN", 20.00], ["TWENTY", 60.00], ["ONE HUNDRED", 100.00]]));
    //console.log(checkCashRegister(3.26, 100.00, [["PENNY", 1.01], ["NICKEL", 2.05], ["DIME", 3.10], ["QUARTER", 4.25], ["ONE", 90.00], ["FIVE", 55.00], ["TEN", 20.00], ["TWENTY", 60.00], ["ONE HUNDRED", 100.00]]));
    // checkCashRegister(19.50, 20.00, [["PENNY", 0.01], ["NICKEL", 0], ["DIME", 0], ["QUARTER", 0], ["ONE", 0], ["FIVE", 0], ["TEN", 0], ["TWENTY", 0], ["ONE HUNDRED", 0]]);
    // checkCashRegister(19.50, 20.00, [["PENNY", 0.01], ["NICKEL", 0], ["DIME", 0], ["QUARTER", 0], ["ONE", 1.00], ["FIVE", 0], ["TEN", 0], ["TWENTY", 0], ["ONE HUNDRED", 0]]);
    // checkCashRegister(19.50, 20.00, [["PENNY", 0.50], ["NICKEL", 0], ["DIME", 0], ["QUARTER", 0], ["ONE", 0], ["FIVE", 0], ["TEN", 0], ["TWENTY", 0], ["ONE HUNDRED", 0]]);

    //test100
   	// checkCashRegister(20, 220.00, [["PENNY", 0.50], ["NICKEL", 0], ["DIME", 0], ["QUARTER", 0], ["ONE", 0], ["FIVE", 0], ["TEN", 0], ["TWENTY", 0], ["ONE HUNDRED", 300]]);//200
   	// checkCashRegister(10, 220.00, [["PENNY", 0.50], ["NICKEL", 1], ["DIME", 1], ["QUARTER", 0], ["ONE", 0], ["FIVE", 0], ["TEN", 0], ["TWENTY", 0], ["ONE HUNDRED", 300]]);//210
   	//test20
   	// checkCashRegister(20, 200.00, [["PENNY", 0.50], ["NICKEL", 1], ["DIME", 1], ["QUARTER", 0], ["ONE", 0], ["FIVE", 0], ["TEN", 0], ["TWENTY", 100], ["ONE HUNDRED", 300]]);//180
   	// checkCashRegister(20, 200.00, [["PENNY", 0.50], ["NICKEL", 1], ["DIME", 1], ["QUARTER", 0], ["ONE", 0], ["FIVE", 0], ["TEN", 0], ["TWENTY", 40], ["ONE HUNDRED", 300]]);//180
   	// checkCashRegister(20, 200.00, [["PENNY", 0.50], ["NICKEL", 1], ["DIME", 1], ["QUARTER", 0], ["ONE", 0], ["FIVE", 0], ["TEN", 0], ["TWENTY", 80], ["ONE HUNDRED", 300]]);//180
   	//test10
   	// checkCashRegister(20, 250.00, [["PENNY", 0.50], ["NICKEL", 1], ["DIME", 1], ["QUARTER", 0], ["ONE", 0], ["FIVE", 0], ["TEN", 0], ["TWENTY", 100], ["ONE HUNDRED", 300]]);//230
   	// checkCashRegister(20, 250.00, [["PENNY", 0.50], ["NICKEL", 1], ["DIME", 1], ["QUARTER", 0], ["ONE", 0], ["FIVE", 0], ["TEN", 50], ["TWENTY", 40], ["ONE HUNDRED", 300]]);//230
   	// checkCashRegister(20, 250.00, [["PENNY", 0.50], ["NICKEL", 1], ["DIME", 1], ["QUARTER", 0], ["ONE", 0], ["FIVE", 0], ["TEN", 20], ["TWENTY", 0], ["ONE HUNDRED", 300]]);//230

   	//test0.05
   	//checkCashRegister(20.04, 250.00, [["PENNY", 0.50], ["NICKEL", 1.05], ["DIME", 1], ["QUARTER", 0], ["ONE", 10], ["FIVE", 10], ["TEN", 10], ["TWENTY", 100], ["ONE HUNDRED", 300]]);//229.95
   	//	200+20+5+4+0.9+0.05；
   	//console.log(250-20.05-200-20-5-4-0.9);
   	//checkCashRegister(20.04, 250.00, [["PENNY", 0.01], ["NICKEL", 0], ["DIME", 1], ["QUARTER", 0], ["ONE", 10], ["FIVE", 10], ["TEN", 10], ["TWENTY", 100], ["ONE HUNDRED", 300]]);


    </script>
</body>

</html>