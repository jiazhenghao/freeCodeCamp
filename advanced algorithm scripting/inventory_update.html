<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript">
    function updateInventory(arr1, arr2) {
        // All inventory must be accounted for or you're fired!
        var arrRes = [];

        for (var i = 0; i < arr1.length; i++) {
        	var value = arr1[i][0];
        	for (var j = 0; j < arr2.length; j++) {
        		if (arr1[i][1] == arr2[j][1]) {
        			value = arr1[i][0] + arr2[j][0];
        			break;
        		}
        	}
        	arrRes.push([value, arr1[i][1]]);
        }

        for (var k = 0; k < arr2.length; k++) {
        	var addOrNot = true;
        	for (var m = 0; m < arrRes.length; m++) {
        		if (arr2[k][1] == arrRes[m][1]) {
        			addOrNot = false;
        			break;
        		}
        	}
        	if (addOrNot) {
        		arrRes.push([arr2[k][0], arr2[k][1]]);
        	}
        }

        arrRes.sort(compare());
        console.log(arrRes);
        return arrRes;
    }

    // Example inventory lists
    var newInv = [
    	[21, "Cowling Ball"],
        [2, "Dirty Sock"],
        [1, "Hair Pin"],
        [5, "Aicrophone"],
        [2, "Hair Pin"],
        [3, "Half-Eaten Apple"],
        [67, "Bowling Ball"],
        [7, "Toothpaste"]
    ];

    function compare() {
        return function(a, b) {
            var value1 = a[1];
            var value2 = b[1];
            return value1 > value2;
        }
    }
    //console.log(newInv.sort(compare()));

    updateInventory([
        [21, "Bowling Ball"],
        [2, "Dirty Sock"],
        [1, "Hair Pin"],
        [5, "Microphone"]
    ], [
        [2, "Hair Pin"],
        [3, "Half-Eaten Apple"],
        [67, "Bowling Ball"],
        [7, "Toothpaste"]
    ]);
    // //[[88, "Bowling Ball"], [2, "Dirty Sock"], [3, "Hair Pin"], [3, "Half-Eaten Apple"], [5, "Microphone"], [7, "Toothpaste"]]
    updateInventory([
        [21, "Bowling Ball"],
        [2, "Dirty Sock"],
        [1, "Hair Pin"],
        [5, "Microphone"]
    ], []);
    // //[[21, "Bowling Ball"], [2, "Dirty Sock"], [1, "Hair Pin"], [5, "Microphone"]]
    updateInventory([], [
        [2, "Hair Pin"],
        [3, "Half-Eaten Apple"],
        [67, "Bowling Ball"],
        [7, "Toothpaste"]
    ]);
    // //[[67, "Bowling Ball"], [2, "Hair Pin"], [3, "Half-Eaten Apple"], [7, "Toothpaste"]]
    updateInventory([
        [0, "Bowling Ball"],
        [0, "Dirty Sock"],
        [0, "Hair Pin"],
        [0, "Microphone"]
    ], [
        [1, "Hair Pin"],
        [1, "Half-Eaten Apple"],
        [1, "Bowling Ball"],
        [1, "Toothpaste"]
    ]);
    // //[[1, "Bowling Ball"], [0, "Dirty Sock"], [1, "Hair Pin"], [1, "Half-Eaten Apple"], [0, "Microphone"], [1, "Toothpaste"]]
    </script>
</body>

</html>